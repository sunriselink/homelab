{{ define "alert_list" }}{{ range . }}
{{- if eq .Labels.severity "critical" }}
ğŸš¨ CRITICAL{{ end }}
{{- if eq .Labels.severity "warning" }}
âš ï¸ WARNING{{ end }}
{{- if .Annotations.summary }}
ğŸ“ {{ .Annotations.summary }}{{ end }}
{{- if .Annotations.description }}
ğŸ“– {{ .Annotations.description }}{{ end }}
{{ end }}{{ end }}

{{ define "telegram.message" }}
{{ if gt (len .Alerts.Firing) 0 }}
ğŸ”¥ Alerts Firing
{{ template "alert_list" .Alerts.Firing }}
{{ end }}
{{ if gt (len .Alerts.Resolved) 0 }}
âœ… Alerts Resolved
{{ template "alert_list" .Alerts.Resolved }}
{{ end }}
{{ end }}
